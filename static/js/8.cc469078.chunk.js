(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{222:function(e,t,a){"use strict";var n=a(15),r=a(2),o=a.n(r),l=(a(26),a(33)),c=a(376),i=a(377),s=a(62),u=a(102),d=l.a.create("page"),f=function(e){var t=e.title,a=e.breadcrumbs,r=e.tag,l=e.className,f=e.children,m=Object(n.a)(e,["title","breadcrumbs","tag","className","children"]),p=d.b("px-3",l);return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,null),o.a.createElement(r,Object.assign({className:p},m),o.a.createElement("div",{className:d.e("header")},t&&"string"===typeof t?o.a.createElement(s.a,{type:"h1",className:d.e("title")},t):t,a&&o.a.createElement(c.a,{className:d.e("breadcrumb")},o.a.createElement(i.a,null,"Home"),a.length&&a.map(function(e,t){var a=e.name,n=e.active;return o.a.createElement(i.a,{key:t,active:n},a)}))),f))};f.defaultProps={tag:"div",title:""},t.a=f},238:function(e,t,a){"use strict";a.d(t,"c",function(){return r}),a.d(t,"d",function(){return o}),a.d(t,"b",function(){return l}),a.d(t,"a",function(){return c}),a.d(t,"e",function(){return i});var n=a(8),r=function(){return{type:n.z,payload:{}}},o=function(){return{type:n.n,payload:{}}},l=function(e){return{type:n.t,payload:e}},c=function(e,t,a,r,o,l,c,i,s,u){return{type:u===n.q?n.q:n.w,payload:{id:e,nombre:t,fecha_nacimiento:a,sexo:r,tipo:o,color:l,estado:c,fechaVenta:i,imagen:s,accion:u}}},i=function(e){return{type:n.B,payload:e}}},264:function(e,t){function a(){return e.exports=a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},a.apply(this,arguments)}e.exports=a},265:function(e,t){e.exports=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}},266:function(e,t,a){"use strict";var n=a(103);t.__esModule=!0,t.getScrollbarWidth=c,t.setScrollbarWidth=i,t.isBodyOverflowing=s,t.getOriginalBodyPadding=function(){var e=window.getComputedStyle(document.body,null);return parseInt(e&&e.getPropertyValue("padding-right")||0,10)},t.conditionallyUpdateScrollbar=function(){var e=c(),t=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],a=t?parseInt(t.style.paddingRight||0,10):0;s()&&i(a+e)},t.setGlobalCssModule=function(e){r=e},t.mapToCssModules=function(e,t){void 0===e&&(e="");void 0===t&&(t=r);return t?e.split(" ").map(function(e){return t[e]||e}).join(" "):e},t.omit=function(e,t){var a={};return Object.keys(e).forEach(function(n){-1===t.indexOf(n)&&(a[n]=e[n])}),a},t.pick=function(e,t){var a,n=Array.isArray(t)?t:[t],r=n.length,o={};for(;r>0;)a=n[r-=1],o[a]=e[a];return o},t.warnOnce=d,t.deprecated=function(e,t){return function(a,n,r){null!==a[n]&&"undefined"!==typeof a[n]&&d('"'+n+'" property of "'+r+'" has been deprecated.\n'+t);for(var o=arguments.length,l=new Array(o>3?o-3:0),c=3;c<o;c++)l[c-3]=arguments[c];return e.apply(void 0,[a,n,r].concat(l))}},t.DOMElement=f,t.isReactRefObj=h,t.findDOMElements=g,t.isArrayOrNodeList=v,t.getTarget=function(e){var t=g(e);if(v(t))return t[0];return t},t.addMultipleEventListeners=function(e,t,a,n){var r=e;v(r)||(r=[r]);var o=a;"string"===typeof o&&(o=o.split(/\s+/));if(!v(r)||"function"!==typeof t||!Array.isArray(o))throw new Error("\n      The first argument of this function must be DOM node or an array on DOM nodes or NodeList.\n      The second must be a function.\n      The third is a string or an array of strings that represents DOM events\n    ");return Array.prototype.forEach.call(o,function(e){Array.prototype.forEach.call(r,function(a){a.addEventListener(e,t,n)})}),function(){Array.prototype.forEach.call(o,function(e){Array.prototype.forEach.call(r,function(a){a.removeEventListener(e,t,n)})})}},t.focusableElements=t.defaultToggleEvents=t.canUseDOM=t.PopperPlacements=t.keyCodes=t.TransitionStatuses=t.TransitionPropTypeKeys=t.TransitionTimeouts=t.tagPropType=t.targetPropType=void 0;var r,o=n(a(64)),l=n(a(1));function c(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function i(e){document.body.style.paddingRight=e>0?e+"px":null}function s(){return document.body.clientWidth<window.innerWidth}var u={};function d(e){u[e]||("undefined"!==typeof console&&console.error(e),u[e]=!0)}function f(e,t,a){if(!(e[t]instanceof Element))return new Error("Invalid prop `"+t+"` supplied to `"+a+"`. Expected prop to be an instance of Element. Validation failed.")}var m=l.default.oneOfType([l.default.string,l.default.func,f,l.default.shape({current:l.default.any})]);t.targetPropType=m;var p=l.default.oneOfType([l.default.func,l.default.string,l.default.shape({$$typeof:l.default.symbol,render:l.default.func}),l.default.arrayOf(l.default.oneOfType([l.default.func,l.default.string,l.default.shape({$$typeof:l.default.symbol,render:l.default.func})]))]);t.tagPropType=p;t.TransitionTimeouts={Fade:150,Collapse:350,Modal:300,Carousel:600};t.TransitionPropTypeKeys=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"];t.TransitionStatuses={ENTERING:"entering",ENTERED:"entered",EXITING:"exiting",EXITED:"exited"};t.keyCodes={esc:27,space:32,enter:13,tab:9,up:38,down:40,home:36,end:35,n:78,p:80};t.PopperPlacements=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"];var b=!("undefined"===typeof window||!window.document||!window.document.createElement);function h(e){return!(!e||"object"!==typeof e)&&"current"in e}function g(e){if(h(e))return e.current;if((0,o.default)(e))return e();if("string"===typeof e&&b){var t=document.querySelectorAll(e);if(t.length||(t=document.querySelectorAll("#"+e)),!t.length)throw new Error("The target '"+e+"' could not be identified in the dom, tip: check spelling");return t}return e}function v(e){return null!==e&&(Array.isArray(e)||b&&"number"===typeof e.length)}t.canUseDOM=b;t.defaultToggleEvents=["touchstart","click"];t.focusableElements=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])']},379:function(e,t,a){"use strict";var n=a(103);t.__esModule=!0,t.default=void 0;var r=n(a(264)),o=n(a(265)),l=n(a(2)),c=n(a(1)),i=n(a(6)),s=n(a(43)),u=a(266),d=c.default.oneOfType([c.default.number,c.default.string]),f=c.default.oneOfType([c.default.string,c.default.number,c.default.shape({size:d,push:(0,u.deprecated)(d,'Please use the prop "order"'),pull:(0,u.deprecated)(d,'Please use the prop "order"'),order:d,offset:d})]),m={children:c.default.node,hidden:c.default.bool,check:c.default.bool,size:c.default.string,for:c.default.string,tag:u.tagPropType,className:c.default.string,cssModule:c.default.object,xs:f,sm:f,md:f,lg:f,xl:f,widths:c.default.array},p={tag:"label",widths:["xs","sm","md","lg","xl"]},b=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},h=function(e){var t=e.className,a=e.cssModule,n=e.hidden,c=e.widths,d=e.tag,f=e.check,m=e.size,p=e.for,h=(0,o.default)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),g=[];c.forEach(function(t,n){var r=e[t];if(delete h[t],r||""===r){var o,l=!n;if((0,s.default)(r)){var c,d=l?"-":"-"+t+"-";o=b(l,t,r.size),g.push((0,u.mapToCssModules)((0,i.default)(((c={})[o]=r.size||""===r.size,c["order"+d+r.order]=r.order||0===r.order,c["offset"+d+r.offset]=r.offset||0===r.offset,c))),a)}else o=b(l,t,r),g.push(o)}});var v=(0,u.mapToCssModules)((0,i.default)(t,!!n&&"sr-only",!!f&&"form-check-label",!!m&&"col-form-label-"+m,g,!!g.length&&"col-form-label"),a);return l.default.createElement(d,(0,r.default)({htmlFor:p},h,{className:v}))};h.propTypes=m,h.defaultProps=p;var g=h;t.default=g},750:function(e,t,a){"use strict";a.r(t);var n=a(61),r=a(222),o=a(2),l=a.n(o),c=a(20),i=a(179),s=a(184),u=a(195),d=a(196),f=a(169),m=a(174),p=a(170),b=a(180),h=a(238),g=a(299),v=(a(267),a(42)),E=a(50),y=a.n(E),O=a(5),j=a(7),T=a(1),x=a.n(T),N=a(6),w=a.n(N),C=a(3),k={active:x.a.bool,children:x.a.node,className:x.a.string,cssModule:x.a.object,disabled:x.a.bool,tag:C.k},P=function(e){var t=e.active,a=e.className,n=e.cssModule,r=e.disabled,o=e.tag,c=Object(j.a)(e,["active","className","cssModule","disabled","tag"]),i=Object(C.h)(w()(a,"page-item",{active:t,disabled:r}),n);return l.a.createElement(o,Object(O.a)({},c,{className:i}))};P.propTypes=k,P.defaultProps={tag:"li"};var M=P,A={"aria-label":x.a.string,children:x.a.node,className:x.a.string,cssModule:x.a.object,next:x.a.bool,previous:x.a.bool,tag:C.k},S=function(e){var t,a=e.className,n=e.cssModule,r=e.next,o=e.previous,c=e.tag,i=Object(j.a)(e,["className","cssModule","next","previous","tag"]),s=Object(C.h)(w()(a,"page-link"),n);o?t="Previous":r&&(t="Next");var u,d=e["aria-label"]||t;o?u="\xab":r&&(u="\xbb");var f=e.children;return f&&Array.isArray(f)&&0===f.length&&(f=null),i.href||"a"!==c||(c="button"),(o||r)&&(f=[l.a.createElement("span",{"aria-hidden":"true",key:"caret"},f||u),l.a.createElement("span",{className:"sr-only",key:"sr"},d)]),l.a.createElement(c,Object(O.a)({},i,{className:s,"aria-label":d}),f)};S.propTypes=A,S.defaultProps={tag:"a"};var I=S,D={className:x.a.string,cssModule:x.a.object,size:x.a.string,bordered:x.a.bool,borderless:x.a.bool,striped:x.a.bool,inverse:Object(C.f)(x.a.bool,'Please use the prop "dark"'),dark:x.a.bool,hover:x.a.bool,responsive:x.a.oneOfType([x.a.bool,x.a.string]),tag:C.k,responsiveTag:C.k,innerRef:x.a.oneOfType([x.a.func,x.a.string,x.a.object])},z=function(e){var t=e.className,a=e.cssModule,n=e.size,r=e.bordered,o=e.borderless,c=e.striped,i=e.inverse,s=e.dark,u=e.hover,d=e.responsive,f=e.tag,m=e.responsiveTag,p=e.innerRef,b=Object(j.a)(e,["className","cssModule","size","bordered","borderless","striped","inverse","dark","hover","responsive","tag","responsiveTag","innerRef"]),h=Object(C.h)(w()(t,"table",!!n&&"table-"+n,!!r&&"table-bordered",!!o&&"table-borderless",!!c&&"table-striped",!(!s&&!i)&&"table-dark",!!u&&"table-hover"),a),g=l.a.createElement(f,Object(O.a)({},b,{ref:p,className:h}));if(d){var v=!0===d?"table-responsive":"table-responsive-"+d;return l.a.createElement(m,{className:v},g)}return g};z.propTypes=D,z.defaultProps={tag:"table",responsiveTag:"div"};var _=z,F={children:x.a.node,className:x.a.string,listClassName:x.a.string,cssModule:x.a.object,size:x.a.string,tag:C.k,listTag:C.k,"aria-label":x.a.string},W=function(e){var t,a=e.className,n=e.listClassName,r=e.cssModule,o=e.size,c=e.tag,i=e.listTag,s=e["aria-label"],u=Object(j.a)(e,["className","listClassName","cssModule","size","tag","listTag","aria-label"]),d=Object(C.h)(w()(a),r),f=Object(C.h)(w()(n,"pagination",((t={})["pagination-"+o]=!!o,t)),r);return l.a.createElement(c,{className:d,"aria-label":s},l.a.createElement(i,Object(O.a)({},u,{className:f})))};W.propTypes=F,W.defaultProps={tag:"nav",listTag:"ul","aria-label":"pagination"};var V=W,B=a(300),H=function(e){for(var t=Object(c.e)(function(e){return e.vacuno.url_imagenes}),a=e.vacunos,r=e.styles,i=e.formatoFecha,s=e.editarVacuno,u=e.eliminarVacuno,d=e.muestraAlertEliminar,f=Object(o.useState)(0),m=Object(n.a)(f,2),p=m[0],b=m[1],h=e.vacunosPorPagina,g=Math.ceil(a.length/h),v=a.slice(p*h,(p+1)*h),E=[],y=function(e){E.push(l.a.createElement(M,{key:e,active:p===e},l.a.createElement(I,{onClick:function(t){return b(e)}},e+1)))},O=0;O<g;O++)y(O);return l.a.createElement(l.a.Fragment,null,l.a.createElement(_,{id:"listVacunos"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col",hidden:!0},"N\xb0"),l.a.createElement("th",{scope:"col"},"Imagen"),l.a.createElement("th",{scope:"col"},"Nombre"),l.a.createElement("th",{scope:"col"},"DIIO"),l.a.createElement("th",{scope:"col"},"Fecha colocaci\xf3n"),l.a.createElement("th",{scope:"col"},"Fecha nacimiento"),l.a.createElement("th",{scope:"col"},"Sexo"),l.a.createElement("th",{scope:"col"},"Color"),l.a.createElement("th",{scope:"col"},"Acciones"))),l.a.createElement("tbody",null,v.map(function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",{hidden:!0},e.id),l.a.createElement("td",null,l.a.createElement("img",{alt:e.name,height:r.height,width:r.width,src:t+e.id+".jpg?dummy="+1e3*Math.random()})),l.a.createElement("td",null,e.nombre),l.a.createElement("td",null,null!=e.numero?e.numero:"Sin arete"),l.a.createElement("td",null,null!=e.fecha_colocacion?i(e.fecha_colocacion):"Sin arete"),l.a.createElement("td",null,i(e.fecha_nacimiento)),l.a.createElement("td",null,e.sexo),l.a.createElement("td",null,e.color),l.a.createElement("td",null,l.a.createElement(B.b,{cursor:"pointer",title:"Editar",onClick:function(){return s(e)}})," ",l.a.createElement(B.c,{cursor:"pointer",title:"Eliminar",onClick:function(){u(e),d(!0)}})))}))),l.a.createElement(V,{"aria-label":"Page navigation example"},l.a.createElement(M,null,l.a.createElement(I,{disabled:0===p,onClick:function(e){return b(p-1)},previous:!0})),E,l.a.createElement(M,null,l.a.createElement(I,{next:!0,onClick:function(e){return b(p+1)},disabled:p+1===g}))))},R=a(379),L=a.n(R),q=a(108);t.default=function(e){var t,a=Object(c.e)(function(e){return e.vacuno.vacunos}),E=Object(c.e)(function(e){return e.vacuno.loading}),O=Object(c.e)(function(e){return e.vacuno.loadingEliminar}),j=Object(c.e)(function(e){return e.vacuno.vacunosBuscados}),T=Object(c.e)(function(e){return e.vacuno.vacunoEditado}),x=Object(o.useState)(!1),N=Object(n.a)(x,2),w=N[0],C=N[1],k=Object(o.useState)(!1),P=Object(n.a)(k,2),M=P[0],A=P[1],S=Object(o.useState)(!1),I=Object(n.a)(S,2),D=I[0],z=I[1],_=Object(o.useState)(a),F=Object(n.a)(_,2),W=F[0],V=F[1];Object(o.useEffect)(function(){w&&B()},[w]);var B=function(){console.log("Descargando pdf");for(var e=new g.jsPDF("p","pt","letter"),t=1,n=[],r=0,o=document.getElementById("listVacunos").cloneNode(!0).rows,l=0;l<o.length;l++)o[l].deleteCell(8);var c=[];a.forEach(function(e,t){var a=[e.id,"imagen",e.nombre,e.numero?e.numero:"Sin arete",e.fecha_colocacion?G(e.fecha_colocacion):"Sin arete",G(e.fecha_nacimiento),e.sexo,e.color];c.push(a)}),e.autoTable({head:[["N\xb0","Imagen","Nombre","DIIO","Fecha colocaci\xf3n","Fecha nacimiento","Sexo","Color"]],body:c,columnStyles:{0:{cellWidth:"auto",minCellHeight:80},1:{cellWidth:120,minCellHeight:80},2:{cellWidth:"auto",minCellHeight:80},3:{cellWidth:"auto",minCellHeight:80},4:{cellWidth:"auto",minCellHeight:80},5:{cellWidth:"auto",minCellHeight:80},6:{cellWidth:"auto",minCellHeight:80},7:{cellWidth:"auto",minCellHeight:80}},styles:{valign:"middle",halign:"center"},includeHiddenHtml:!0,didParseCell:function(e){0===e.column.index&&"body"===e.cell.section&&(n.push(e.cell.text[0]),e.cell.text[0]=t.toString(),t++)},didDrawCell:function(t){1===t.column.index&&"body"===t.cell.section&&(e.addImage("http://localhost:8000/api/vacunos/"+n[r],"JPEG",t.cell.x+15,t.cell.y+2,80,80),r++)}}),e.save("Listado_animales.pdf"),C(!1)},R=Object(c.d)();Object(o.useEffect)(function(){O||y.a.fire({icon:"success",title:"Vacuno eliminado correctamente",confirmButtonText:"Aceptar",allowOutsideClick:!1}).then(function(e){e.isConfirmed&&R(h.c())})},[O]),Object(o.useEffect)(function(){R(h.c())},[]),Object(o.useEffect)(function(){!E&&j&&0===a.length?y.a.fire({icon:"info",title:"No se encontraron vacunos",confirmButtonText:"Registrar vacuno",footer:'<a href="javascript:location.reload(true)">Favor recargue la p\xe1gina si existe algun problema</a>',allowOutsideClick:!1}).then(function(t){t.isConfirmed&&e.history.push("registrar_vacuno")}):V(a)},[j]);var G=function(e){return[(t=e.split("-"))[2],t[1],t[0]].join("-")};Object(o.useEffect)(function(){M&&y.a.fire({icon:"warning",title:"\xbfEst\xe1 seguro(a) de eliminar este vacuno?",confirmButtonText:"Eliminar",showCancelButton:!0,cancelButtonText:"Cancelar",allowOutsideClick:!1}).then(function(e){e.isConfirmed?(R(h.b(T.id)),z(!0),A(!1)):A(!1)})},[M]);var $=Object(o.useState)(2),J=Object(n.a)($,2),U=J[0],K=J[1];return l.a.createElement(r.a,{title:"Listado de vacunos",breadcrumbs:[{name:"listado",active:!0}],className:"TablePage"},l.a.createElement(i.a,{className:"mb-3"},l.a.createElement(s.a,null,l.a.createElement(u.a,null,l.a.createElement(d.a,{className:"col-3"},l.a.createElement("b",null,l.a.createElement(L.a,{for:"nPaginas"},"Vacunos por p\xe1gina")),l.a.createElement(f.a,{value:U,onChange:function(e){K(e.target.value)},id:"nPaginas",type:"select"},l.a.createElement("option",null,"2"),l.a.createElement("option",null,"5"),l.a.createElement("option",null,"10"))),l.a.createElement(d.a,{xs:"4",md:"4"},l.a.createElement("b",null,l.a.createElement(L.a,null,"Buscar por nombre o DIIO")),l.a.createElement(q.a,{filtrarVacunos:function(e){var t=a.filter(function(t){return t.nombre.includes(e.target.value)?t:null!==t.numero&&t.numero.includes(e.target.value)?t:null});V(t)}})),l.a.createElement(d.a,{className:"col-5"},l.a.createElement(m.a,{disabled:0===a.length,style:{float:"right",marginTop:"20px"},onClick:function(){C(!0)}},w?l.a.createElement(l.a.Fragment,null,"Generando pdf... ",l.a.createElement(p.a,null)):"Descargar pdf"," ")))),l.a.createElement(b.a,null,E?l.a.createElement(v.a,{texto:"Cargando listado"}):O&&D&&!M?l.a.createElement(v.a,{texto:"Eliminando vacuno"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(H,{vacunos:W,styles:{width:300,height:300,resizeMode:"cover",textAlign:"center",verticalAlign:"middle"},vacunosPorPagina:U,editarVacuno:function(t){R(h.e(t)),e.history.push("editar_vacuno")},eliminarVacuno:function(e){R(h.e(e))},formatoFecha:G,muestraAlertEliminar:A})))))}}}]);
//# sourceMappingURL=8.cc469078.chunk.js.map